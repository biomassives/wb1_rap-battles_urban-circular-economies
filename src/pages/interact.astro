---
/**
 * interact.astro
 * Community Interaction Panel
 *
 * Multi-role dashboard for:
 * - Rap Battles (MC/Judge/Spectator)
 * - Reggae Collaborations (Artist/Producer/Contributor)
 * - Urban Environmental Tech (Developer/Researcher/Citizen Scientist)
 * - Food Security Projects (Grower/Organizer/Supporter)
 */
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout
  title="Community Interaction Panel"
  description="Engage with battles, collaborations, environmental tech, and food security projects"
  activeSection="music"
>

  <section class="interaction-panel">
    <div class="container mx-auto" style="padding: 2rem;">

      <!-- Header -->
      <div class="panel-header" style="margin-bottom: 3rem;">
        <h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 0.5rem;">
          ğŸŒ Community Interaction Panel
        </h1>
        <p style="color: #666; font-size: 1.125rem;">
          Connect, create, and collaborate across music, tech, and sustainability
        </p>
      </div>

      <!-- Role Selector -->
      <div class="role-selector-panel" style="margin-bottom: 3rem;">
        <h2 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">
          Select Your Primary Role
        </h2>
        <div class="role-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">

          <div class="role-card active" data-role="mc">
            <div class="role-icon">ğŸ¤</div>
            <div class="role-name">MC / Rapper</div>
            <div class="role-subtitle">Battles & Lyrics</div>
          </div>

          <div class="role-card" data-role="musician">
            <div class="role-icon">ğŸµ</div>
            <div class="role-name">Musician</div>
            <div class="role-subtitle">Reggae & Collabs</div>
          </div>

          <div class="role-card" data-role="developer">
            <div class="role-icon">ğŸ’»</div>
            <div class="role-name">Developer</div>
            <div class="role-subtitle">Open Tech</div>
          </div>

          <div class="role-card" data-role="grower">
            <div class="role-icon">ğŸŒ±</div>
            <div class="role-name">Grower</div>
            <div class="role-subtitle">Food Security</div>
          </div>

          <div class="role-card" data-role="activist">
            <div class="role-icon">âœŠ</div>
            <div class="role-name">Activist</div>
            <div class="role-subtitle">Environmental</div>
          </div>

          <div class="role-card" data-role="supporter">
            <div class="role-icon">ğŸ¤</div>
            <div class="role-name">Supporter</div>
            <div class="role-subtitle">All Projects</div>
          </div>

        </div>
      </div>

      <!-- Activity Dashboard -->
      <div id="activity-dashboard" class="activity-dashboard">

        <!-- RAP BATTLES SECTION -->
        <div class="activity-section rap-battles" data-roles="mc,supporter">
          <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <div>
              <h2 style="font-size: 1.75rem; font-weight: bold;">âš”ï¸ Rap Battles</h2>
              <p style="color: #666;">Compete, judge, and spectate epic lyrical showdowns</p>
            </div>
            <button class="btn-primary" onclick="window.interactionPanel?.createBattle()">
              + New Battle
            </button>
          </div>

          <div class="activity-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">

            <!-- Open Battles -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ””</div>
                <h3>Open Challenges</h3>
              </div>
              <div class="card-content">
                <div id="open-battles-list" class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Flow Master</strong> seeks challenger
                      <div class="item-meta">Wordplay â€¢ 3 rounds â€¢ 0.5 SOL</div>
                    </div>
                    <button class="btn-small">Accept</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Lyric King</strong> awaits opponent
                      <div class="item-meta">Conscious â€¢ 3 rounds â€¢ 1 SOL</div>
                    </div>
                    <button class="btn-small">Accept</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/music?filter=battles">View All â†’</a>
              </div>
            </div>

            <!-- Your Active Battles -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">âš”ï¸</div>
                <h3>Your Active Battles</h3>
              </div>
              <div class="card-content">
                <div id="active-battles-list" class="list-items">
                  <div class="empty-state">
                    No active battles
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <button onclick="window.interactionPanel?.viewMyBattles()">View History â†’</button>
              </div>
            </div>

            <!-- Judge Opportunities -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">âš–ï¸</div>
                <h3>Judge & Vote</h3>
              </div>
              <div class="card-content">
                <div id="judge-battles-list" class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Battle #42</strong> needs judges
                      <div class="item-meta">Voting ends in 4h â€¢ +10 XP</div>
                    </div>
                    <button class="btn-small">Judge</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/music?tab=voting">All Voting â†’</a>
              </div>
            </div>

          </div>

          <!-- Battle Categories -->
          <div class="category-chips" style="margin-top: 1.5rem;">
            <span class="chip active">All</span>
            <span class="chip">ğŸ§  Conscious Bars</span>
            <span class="chip">ğŸ­ Wordplay Wizard</span>
            <span class="chip">ğŸŒŠ Flow Master</span>
            <span class="chip">ğŸ“– Storyteller</span>
            <span class="chip">ğŸ•ï¸ Kakuma Chronicles</span>
            <span class="chip">ğŸ² Freestyle</span>
          </div>
        </div>

        <!-- REGGAE COLLABORATIONS SECTION -->
        <div class="activity-section reggae-collabs" data-roles="musician,mc,supporter">
          <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <div>
              <h2 style="font-size: 1.75rem; font-weight: bold;">ğŸµ Reggae Collaborations</h2>
              <p style="color: #666;">Connect with artists, create together, share the vibes</p>
            </div>
            <button class="btn-primary" onclick="window.interactionPanel?.startCollab()">
              + Start Collab
            </button>
          </div>

          <div class="activity-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">

            <!-- Open Collabs -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ¸</div>
                <h3>Open Collaborations</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>"One Love Remix"</strong>
                      <div class="item-meta">Need: Vocals, Bass â€¢ Roots Reggae</div>
                      <div class="collab-tags">
                        <span class="tag">ğŸ¤ Vocals Needed</span>
                        <span class="tag">ğŸ¸ Bass Needed</span>
                      </div>
                    </div>
                    <button class="btn-small">Join</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>"Freedom Dub"</strong>
                      <div class="item-meta">Need: Keys, Percussion â€¢ Dub</div>
                      <div class="collab-tags">
                        <span class="tag">ğŸ¹ Keys Needed</span>
                      </div>
                    </div>
                    <button class="btn-small">Join</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/collaborations">Browse All â†’</a>
              </div>
            </div>

            <!-- Your Collaborations -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ‘¥</div>
                <h3>Your Collabs</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="empty-state">
                    No active collaborations
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <button onclick="window.interactionPanel?.viewMyCollabs()">View All â†’</button>
              </div>
            </div>

            <!-- Matching Suggestions -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ¯</div>
                <h3>Suggested Matches</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>SunnyVoice</strong>
                      <div class="item-meta">Vocalist â€¢ Similar style â€¢ 92% match</div>
                    </div>
                    <button class="btn-small">Connect</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/find-collaborators">Find More â†’</a>
              </div>
            </div>

          </div>

          <!-- Collab Styles -->
          <div class="category-chips" style="margin-top: 1.5rem;">
            <span class="chip active">All Styles</span>
            <span class="chip">ğŸŒ´ Roots</span>
            <span class="chip">ğŸ”Š Dub</span>
            <span class="chip">âš¡ Dancehall</span>
            <span class="chip">ğŸº Ska</span>
            <span class="chip">ğŸŒŠ Lovers Rock</span>
            <span class="chip">ğŸ”¥ Ragga</span>
          </div>
        </div>

        <!-- URBAN ENVIRONMENTAL TECH SECTION -->
        <div class="activity-section env-tech" data-roles="developer,activist,supporter">
          <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <div>
              <h2 style="font-size: 1.75rem; font-weight: bold;">ğŸ’» Urban Environmental Open Tech</h2>
              <p style="color: #666;">Build, contribute, and deploy sustainable tech solutions</p>
            </div>
            <button class="btn-primary" onclick="window.interactionPanel?.createProject()">
              + New Project
            </button>
          </div>

          <div class="activity-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">

            <!-- Active Projects -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸš€</div>
                <h3>Active Projects</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Solar Tracker IoT</strong>
                      <div class="item-meta">Arduino â€¢ Python â€¢ 5 contributors</div>
                      <div class="progress-mini">
                        <div class="progress-fill" style="width: 65%"></div>
                      </div>
                      <div class="item-meta">65% complete</div>
                    </div>
                    <button class="btn-small">Contribute</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Air Quality Monitor</strong>
                      <div class="item-meta">Raspberry Pi â€¢ Node.js â€¢ 8 contributors</div>
                      <div class="progress-mini">
                        <div class="progress-fill" style="width: 40%"></div>
                      </div>
                      <div class="item-meta">40% complete</div>
                    </div>
                    <button class="btn-small">Contribute</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/learning#projects">View All Projects â†’</a>
              </div>
            </div>

            <!-- Contribution Opportunities -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ› ï¸</div>
                <h3>Help Wanted</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Need: Frontend Dev</strong>
                      <div class="item-meta">Water Monitor Dashboard â€¢ React</div>
                      <span class="tag tag-urgent">Urgent</span>
                    </div>
                    <button class="btn-small">Help</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Need: Hardware Tester</strong>
                      <div class="item-meta">Soil Sensor Calibration</div>
                    </div>
                    <button class="btn-small">Help</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/learning#help-wanted">All Opportunities â†’</a>
              </div>
            </div>

            <!-- Your Contributions -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ“Š</div>
                <h3>Your Impact</h3>
              </div>
              <div class="card-content">
                <div class="stats-mini">
                  <div class="stat-mini">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Projects</div>
                  </div>
                  <div class="stat-mini">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Commits</div>
                  </div>
                  <div class="stat-mini">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Issues Closed</div>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <button onclick="window.interactionPanel?.viewMyContributions()">View Details â†’</button>
              </div>
            </div>

          </div>

          <!-- Tech Categories -->
          <div class="category-chips" style="margin-top: 1.5rem;">
            <span class="chip active">All Tech</span>
            <span class="chip">â˜€ï¸ Solar</span>
            <span class="chip">ğŸ’§ Water</span>
            <span class="chip">ğŸŒ¬ï¸ Air Quality</span>
            <span class="chip">ğŸŒ¡ï¸ Climate</span>
            <span class="chip">â™»ï¸ Recycling</span>
            <span class="chip">ğŸ™ï¸ Smart City</span>
          </div>
        </div>

        <!-- FOOD SECURITY SECTION -->
        <div class="activity-section food-security" data-roles="grower,activist,supporter">
          <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <div>
              <h2 style="font-size: 1.75rem; font-weight: bold;">ğŸŒ± Food Security Projects</h2>
              <p style="color: #666;">Grow together, share knowledge, build resilient food systems</p>
            </div>
            <button class="btn-primary" onclick="window.interactionPanel?.startGarden()">
              + Start Garden
            </button>
          </div>

          <div class="activity-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">

            <!-- Community Gardens -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ¡</div>
                <h3>Community Gardens</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Kakuma Victory Garden</strong>
                      <div class="item-meta">45 plots â€¢ 120 participants</div>
                      <div class="item-tags">
                        <span class="tag tag-active">ğŸŒ± Active</span>
                        <span class="tag">ğŸ¥¬ Vegetables</span>
                      </div>
                    </div>
                    <button class="btn-small">Join</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Urban Rooftop Farm</strong>
                      <div class="item-meta">12 plots â€¢ 30 participants</div>
                      <div class="item-tags">
                        <span class="tag tag-active">ğŸŒ± Active</span>
                        <span class="tag">ğŸ… Mixed</span>
                      </div>
                    </div>
                    <button class="btn-small">Join</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/gardens">Find Gardens â†’</a>
              </div>
            </div>

            <!-- Knowledge Sharing -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ“š</div>
                <h3>Learn & Share</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Composting Workshop</strong>
                      <div class="item-meta">Tomorrow 2pm â€¢ 15 spots left</div>
                    </div>
                    <button class="btn-small">Register</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Seed Saving Basics</strong>
                      <div class="item-meta">Online â€¢ Watch anytime</div>
                    </div>
                    <button class="btn-small">Watch</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/learning#food">All Workshops â†’</a>
              </div>
            </div>

            <!-- Harvest Sharing -->
            <div class="activity-card">
              <div class="card-header">
                <div class="card-icon">ğŸ¥•</div>
                <h3>Harvest & Trade</h3>
              </div>
              <div class="card-content">
                <div class="list-items">
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Available: Tomatoes</strong>
                      <div class="item-meta">5kg â€¢ Ready now</div>
                    </div>
                    <button class="btn-small">Request</button>
                  </div>
                  <div class="list-item">
                    <div class="item-content">
                      <strong>Wanted: Lettuce Seeds</strong>
                      <div class="item-meta">Will trade kale</div>
                    </div>
                    <button class="btn-small">Offer</button>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <a href="/harvest-exchange">View Exchange â†’</a>
              </div>
            </div>

          </div>

          <!-- Growing Methods -->
          <div class="category-chips" style="margin-top: 1.5rem;">
            <span class="chip active">All Methods</span>
            <span class="chip">ğŸŒ¿ Permaculture</span>
            <span class="chip">ğŸ’§ Hydroponics</span>
            <span class="chip">ğŸ¢ Vertical</span>
            <span class="chip">â™»ï¸ Aquaponics</span>
            <span class="chip">ğŸŒ¾ Traditional</span>
            <span class="chip">ğŸŒ± Organic</span>
          </div>
        </div>

        <!-- CROSS-ACTIVITY OPPORTUNITIES -->
        <div class="activity-section cross-activity" data-roles="all">
          <div class="section-header" style="margin-bottom: 1.5rem;">
            <h2 style="font-size: 1.75rem; font-weight: bold;">ğŸŒŸ Cross-Activity Opportunities</h2>
            <p style="color: #666;">Unique projects that combine multiple areas</p>
          </div>

          <div class="activity-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">

            <div class="activity-card highlight">
              <div class="card-header">
                <div class="card-icon">ğŸµğŸŒ±</div>
                <h3>Music for Gardens</h3>
              </div>
              <div class="card-content">
                <p>Create reggae tracks inspired by urban farming, with proceeds supporting community gardens</p>
                <div class="item-tags" style="margin-top: 1rem;">
                  <span class="tag">Music</span>
                  <span class="tag">Food Security</span>
                  <span class="tag">Impact</span>
                </div>
              </div>
              <div class="card-footer">
                <button class="btn-primary">Join Initiative â†’</button>
              </div>
            </div>

            <div class="activity-card highlight">
              <div class="card-header">
                <div class="card-icon">ğŸ’»ğŸŒ¾</div>
                <h3>Tech for Food</h3>
              </div>
              <div class="card-content">
                <p>Build IoT monitoring systems for community gardens using open-source hardware</p>
                <div class="item-tags" style="margin-top: 1rem;">
                  <span class="tag">Tech</span>
                  <span class="tag">Food Security</span>
                  <span class="tag">Open Source</span>
                </div>
              </div>
              <div class="card-footer">
                <button class="btn-primary">Start Building â†’</button>
              </div>
            </div>

            <div class="activity-card highlight">
              <div class="card-header">
                <div class="card-icon">ğŸ¤ğŸ•ï¸</div>
                <h3>Kakuma Voices</h3>
              </div>
              <div class="card-content">
                <p>Rap battles with themes about refugee experiences, environmental challenges, and resilience</p>
                <div class="item-tags" style="margin-top: 1rem;">
                  <span class="tag">Battles</span>
                  <span class="tag">Kakuma</span>
                  <span class="tag">Storytelling</span>
                </div>
              </div>
              <div class="card-footer">
                <button class="btn-primary">Create Battle â†’</button>
              </div>
            </div>

          </div>
        </div>

      </div>

    </div>
  </section>

</BaseLayout>

<script>
  // Interaction Panel Manager
  class InteractionPanelManager {
    constructor() {
      this.currentRole = 'mc';
      this.setupRoleSwitching();
      this.filterActivitiesByRole();
    }

    setupRoleSwitching() {
      document.querySelectorAll('.role-card').forEach(card => {
        card.addEventListener('click', () => {
          // Update active state
          document.querySelectorAll('.role-card').forEach(c => c.classList.remove('active'));
          card.classList.add('active');

          // Update current role
          this.currentRole = card.dataset.role;

          // Filter activities
          this.filterActivitiesByRole();

          // Award XP for exploring roles
          if (window.progressManager) {
            window.progressManager.awardXP(5, 'role_explore', `Explored ${this.currentRole} role`);
          }
        });
      });
    }

    filterActivitiesByRole() {
      const sections = document.querySelectorAll('.activity-section');

      sections.forEach(section => {
        const roles = section.dataset.roles?.split(',') || [];

        if (roles.includes('all') || roles.includes(this.currentRole)) {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }

    // Action handlers
    createBattle() {
      alert('Create Battle feature - Navigate to battle creation form');
      window.location.href = '/music?action=create-battle';
    }

    viewMyBattles() {
      alert('View My Battles - Navigate to user battle history');
      window.location.href = '/music?filter=my-battles';
    }

    startCollab() {
      alert('Start Collaboration - Navigate to collab creation');
      window.location.href = '/collaborations?action=create';
    }

    viewMyCollabs() {
      alert('View My Collaborations - Navigate to user collabs');
      window.location.href = '/collaborations?filter=mine';
    }

    createProject() {
      alert('Create Project - Navigate to project creation');
      window.location.href = '/learning#new-project';
    }

    viewMyContributions() {
      alert('View My Contributions - Navigate to contribution dashboard');
      window.location.href = '/learning#my-contributions';
    }

    startGarden() {
      alert('Start Garden - Navigate to garden creation');
      window.location.href = '/gardens?action=create';
    }
  }

  // Initialize
  window.interactionPanel = new InteractionPanelManager();

  // Load dynamic data
  async function loadDynamicData() {
    const wallet = window.walletManager?.connectedWallet;

    if (wallet) {
      // Load user's active battles
      // Load user's collaborations
      // Load user's projects
      // etc.
    }
  }

  // Load on ready
  document.addEventListener('DOMContentLoaded', () => {
    setTimeout(loadDynamicData, 500);
  });
</script>

<style>
  .role-grid {
    margin-bottom: 2rem;
  }

  .role-card {
    background: white;
    padding: 1.5rem;
    border-radius: 1rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: all 0.3s;
    border: 3px solid transparent;
    text-align: center;
  }

  .role-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0,0,0,0.15);
  }

  .role-card.active {
    border-color: #667eea;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
  }

  .role-icon {
    font-size: 3rem;
    margin-bottom: 0.5rem;
  }

  .role-name {
    font-size: 1.125rem;
    font-weight: bold;
    margin-bottom: 0.25rem;
  }

  .role-subtitle {
    font-size: 0.875rem;
    color: #666;
  }

  .activity-section {
    background: #f9fafb;
    padding: 2rem;
    border-radius: 1rem;
    margin-bottom: 2rem;
  }

  .activity-card {
    background: white;
    border-radius: 0.75rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    overflow: hidden;
  }

  .activity-card.highlight {
    border: 2px solid #667eea;
  }

  .card-header {
    padding: 1.5rem;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .card-icon {
    font-size: 1.5rem;
  }

  .card-header h3 {
    font-size: 1.125rem;
    font-weight: bold;
    margin: 0;
  }

  .card-content {
    padding: 1.5rem;
  }

  .card-footer {
    padding: 1rem 1.5rem;
    background: #f9fafb;
    border-top: 1px solid #e5e7eb;
  }

  .list-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .list-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #f9fafb;
    border-radius: 0.5rem;
  }

  .item-content {
    flex: 1;
  }

  .item-meta {
    font-size: 0.875rem;
    color: #666;
    margin-top: 0.25rem;
  }

  .item-tags, .collab-tags {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
    flex-wrap: wrap;
  }

  .tag {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background: #e5e7eb;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .tag-active {
    background: #d1fae5;
    color: #065f46;
  }

  .tag-urgent {
    background: #fee2e2;
    color: #991b1b;
  }

  .chip {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 2rem;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
  }

  .chip:hover {
    border-color: #667eea;
  }

  .chip.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-color: #667eea;
  }

  .empty-state {
    text-align: center;
    padding: 2rem 1rem;
    color: #9ca3af;
    font-style: italic;
  }

  .progress-mini {
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    overflow: hidden;
    margin: 0.5rem 0;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    transition: width 0.3s;
  }

  .stats-mini {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    text-align: center;
  }

  .stat-mini {
    padding: 1rem;
    background: #f9fafb;
    border-radius: 0.5rem;
  }

  .stat-value {
    font-size: 1.5rem;
    font-weight: bold;
    color: #667eea;
  }

  .stat-label {
    font-size: 0.75rem;
    color: #666;
    margin-top: 0.25rem;
  }

  .btn-primary, .btn-secondary, .btn-small {
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: all 0.2s;
  }

  .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
  }

  .btn-secondary {
    background: #e5e7eb;
    color: #374151;
  }

  .btn-small {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
</style>

