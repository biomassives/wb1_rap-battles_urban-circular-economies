---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
---

<BaseLayout title="WB1 | INTERSECTIONAL_AIRDROP">
  <Header />

  <main class="brutalist-container">
    <section class="manifesto-box">
      <h1 class="ska-title">E8_INTERSECTION_PROTOCOL</h1>
      <p class="brutalist-p">
        In <strong>Worldbridger One</strong>, we don't just "receive" tokens. We align dimensions. 
        Using the research of <strong>Lisi and Fang Fang</strong>, we map your farm's 
        biodiversity as a point on an 8-dimensional surface. When your local data intersects 
        with the global lattice, the airdrop sequence triggers.
      </p>
      
    </section>

    <div class="airdrop-grid">
      <div class="status-panel">
        <h3>SEQUENCE_STATUS</h3>
        <div id="drop-timer" class="big-timer">00:00:00</div>
        <div class="progress-bar-brutal">
          <div id="sequence-progress" class="progress-fill" style="width: 40%;"></div>
        </div>
        <p id="sequence-intel">AWAITING_LATTICE_SYNC...</p>
      </div>

      <div class="metadata-panel">
        <h3>CONNECTED_METADATA</h3>
        <div id="nft-metadata-display" class="metadata-log">
          <div class="log-entry">LOADING_SENSORS...</div>
        </div>
      </div>
    </div>

    <div class="trigger-zone">
      <button id="claim-btn" class="ska-btn-large" disabled>
        EXECUTE_AIRDROP_CLAIM
      </button>
      <span class="warning-text">REQUIRES_VALID_RUST_WASM_PULSE</span>
    </div>
  </main>
</BaseLayout>

<style>
  .manifesto-box { border: 8px solid #000; padding: 2rem; background: #fff; box-shadow: 20px 20px 0 #b4f55b; margin-bottom: 3rem; }
  .ska-title { font-size: 3.5rem; font-weight: 900; letter-spacing: -3px; margin: 0; text-transform: uppercase; }
  .brutalist-p { font-family: 'Courier New', monospace; line-height: 1.4; font-size: 1.1rem; border-top: 4px solid #000; padding-top: 1rem; }
  
  .airdrop-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
  .status-panel, .metadata-panel { border: 8px solid #000; padding: 1.5rem; background: #fff; }
  
  .big-timer { font-size: 4rem; font-weight: 900; background: #000; color: #b4f55b; text-align: center; padding: 1rem; margin: 1rem 0; }
  .progress-bar-brutal { height: 30px; border: 4px solid #000; background: #eee; }
  .progress-fill { height: 100%; background: #b4f55b; }

  .metadata-log { font-family: monospace; font-size: 0.8rem; height: 200px; overflow-y: auto; background: #f0f0f0; border: 4px solid #000; padding: 10px; }
  .log-entry { border-bottom: 2px solid #ddd; padding: 5px 0; }

  .trigger-zone { margin-top: 3rem; text-align: center; }
  .ska-btn-large { 
    width: 100%; padding: 2rem; font-size: 2rem; font-weight: 900; 
    background: #000; color: #fff; cursor: pointer; border: 8px solid #000;
    box-shadow: 10px 10px 0 #b4f55b;
  }
  .ska-btn-large:disabled { background: #ccc; cursor: not-allowed; box-shadow: none; }
  .warning-text { display: block; margin-top: 10px; font-weight: 800; color: #ff4757; }
</style>
