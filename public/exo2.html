<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worldbridger One - Stellar Navigator</title>
    <style>
        body { margin: 0; background: #05050a; overflow: hidden; color: #39ff14; font-family: 'Courier New', monospace; }
        #ui-layer {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 10;
            pointer-events: none;
            text-shadow: 0 0 5px #39ff14;
        }
        .instructions { position: fixed; bottom: 20px; width: 100%; text-align: center; opacity: 0.6; }
        canvas { display: block; }
#canvas-container canvas {
    filter: contrast(1.2) brightness(0.8) sepia(0.2) hue-rotate(90deg);
}

[data-theme="light"] #canvas-container canvas {
    filter: invert(1) hue-rotate(180deg) saturate(2);
    opacity: 0.6;
}
    </style>
</head>
<body>
<div id="ui-layer" class="pixel-border bg-black/80 p-4 fixed top-20 left-4 z-50">
    <h1 class="glow-text text-xl">STELLAR_BRIDGE_V1</h1>
    <div id="star-info" class="text-[10px] text-green-500 mt-2">INITIALIZING_SECTOR_SCAN...</div>
</div>

<div id="canvas-container" class="fixed inset-0 z-0"></div>

<script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "controls": "https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js"
    }
  }
</script>

<script type="module">
  import * as THREE from 'three';
  import { OrbitControls } from 'controls';

  const BRIGHT_STARS = [
    { name: "Sirius", ra: 101.28, dec: -16.71, dist: 8.6, mag: -1.46, color: "#9bb0ff" },
    { name: "Canopus", ra: 95.98, dec: -52.69, dist: 310, mag: -0.74, color: "#ffffff" },
    { name: "Rigel Kentaurus", ra: 219.90, dec: -60.83, dist: 4.37, mag: -0.01, color: "#fff4ea" },
    { name: "Arcturus", ra: 213.91, dec: 19.18, dist: 36.7, mag: -0.04, color: "#ffbd6f" },
    { name: "Vega", ra: 279.23, dec: 38.78, dist: 25, mag: 0.03, color: "#9bb0ff" },
    { name: "Capella", ra: 79.17, dec: 45.99, dist: 42.8, mag: 0.08, color: "#fff4ea" },
    { name: "Rigel", ra: 78.63, dec: -8.20, dist: 860, mag: 0.12, color: "#9bb0ff" },
    { name: "Procyon", ra: 114.82, dec: 5.22, dist: 11.4, mag: 0.38, color: "#fff4ea" },
    { name: "Achernar", ra: 24.42, dec: -57.23, dist: 139, mag: 0.46, color: "#9bb0ff" },
    { name: "Betelgeuse", ra: 88.79, dec: 7.40, dist: 640, mag: 0.50, color: "#ffbb7b" },
    { name: "Hadar", ra: 210.95, dec: -60.37, dist: 390, mag: 0.61, color: "#9bb0ff" },
    { name: "Altair", ra: 297.69, dec: 8.86, dist: 16.7, mag: 0.77, color: "#9bb0ff" },
    { name: "Acrux", ra: 186.64, dec: -63.09, dist: 320, mag: 0.76, color: "#9bb0ff" },
    { name: "Aldebaran", ra: 68.98, dec: 16.50, dist: 65, mag: 0.85, color: "#ffbb7b" },
    { name: "Antares", ra: 247.35, dec: -26.43, dist: 550, mag: 0.96, color: "#ffbb7b" },
    { name: "Spica", ra: 201.29, dec: -11.16, dist: 250, mag: 0.98, color: "#9bb0ff" },
    { name: "Pollux", ra: 116.32, dec: 28.02, dist: 33.7, mag: 1.14, color: "#fff4ea" },
    { name: "Fomalhaut", ra: 344.41, dec: -29.62, dist: 25, mag: 1.16, color: "#9bb0ff" },
    { name: "Deneb", ra: 310.35, dec: 45.28, dist: 2600, mag: 1.25, color: "#9bb0ff" },
    { name: "Mimosa", ra: 191.93, dec: -59.68, dist: 280, mag: 1.25, color: "#9bb0ff" },
    { name: "Regulus", ra: 152.09, dec: 11.96, dist: 79, mag: 1.35, color: "#9bb0ff" },
    { name: "Adhara", ra: 104.65, dec: -28.97, dist: 430, mag: 1.50, color: "#9bb0ff" },
    { name: "Castor", ra: 113.64, dec: 31.88, dist: 51.5, mag: 1.58, color: "#9bb0ff" },
    { name: "Gacrux", ra: 187.79, dec: -57.11, dist: 88, mag: 1.59, color: "#ffbb7b" },
    { name: "Shaula", ra: 259.83, dec: -37.10, dist: 570, mag: 1.62, color: "#9bb0ff" },
    { name: "Bellatrix", ra: 81.28, dec: 6.35, dist: 240, mag: 1.64, color: "#9bb0ff" },
    { name: "Elnath", ra: 88.79, dec: 28.60, dist: 130, mag: 1.65, color: "#9bb0ff" },
    { name: "Miaplacidus", ra: 138.30, dec: -69.71, dist: 110, mag: 1.67, color: "#9bb0ff" },
    { name: "Alnilam", ra: 84.05, dec: -1.20, dist: 2000, mag: 1.69, color: "#9bb0ff" },
    { name: "Alnair", ra: 332.05, dec: -46.96, dist: 101, mag: 1.74, color: "#9bb0ff" },
    { name: "Alnitak", ra: 84.41, dec: -1.94, dist: 1260, mag: 1.77, color: "#9bb0ff" },
    { name: "Alioth", ra: 193.50, dec: 55.96, dist: 81, mag: 1.76, color: "#9bb0ff" },
    { name: "Dubhe", ra: 165.93, dec: 61.75, dist: 124, mag: 1.79, color: "#fff4ea" },
    { name: "Mirfak", ra: 51.08, dec: 49.86, dist: 510, mag: 1.79, color: "#fff4ea" },
    { name: "Wezen", ra: 106.38, dec: -26.39, dist: 1800, mag: 1.83, color: "#fff4ea" },
    { name: "Sargas", ra: 264.33, dec: -42.99, dist: 270, mag: 1.86, color: "#fff4ea" },
    { name: "Kaus Australis", ra: 276.10, dec: -34.38, dist: 140, mag: 1.85, color: "#9bb0ff" },
    { name: "Avior", ra: 125.62, dec: -59.51, dist: 630, mag: 1.86, color: "#ffbb7b" },
    { name: "Alkaid", ra: 206.88, dec: 49.31, dist: 101, mag: 1.85, color: "#9bb0ff" },
    { name: "Menkalinan", ra: 89.87, dec: 44.95, dist: 82, mag: 1.90, color: "#9bb0ff" },
    { name: "Atria", ra: 252.16, dec: -69.02, dist: 415, mag: 1.91, color: "#ffbb7b" },
    { name: "Alhena", ra: 99.42, dec: 16.39, dist: 105, mag: 1.93, color: "#ffffff" },
    { name: "Peacock", ra: 306.41, dec: -56.73, dist: 183, mag: 1.94, color: "#9bb0ff" },
    { name: "Alsephina", ra: 133.16, dec: -54.71, dist: 80, mag: 1.96, color: "#9bb0ff" },
    { name: "Mirzam", ra: 95.67, dec: -17.95, dist: 500, mag: 1.98, color: "#9bb0ff" },
    { name: "Alphard", ra: 141.90, dec: -8.66, dist: 177, mag: 1.98, color: "#ffbb7b" },
    { name: "Polaris", ra: 37.95, dec: 89.26, dist: 430, mag: 1.97, color: "#fff4ea" },
    { name: "Hamal", ra: 31.79, dec: 23.46, dist: 66, mag: 2.01, color: "#ffbb7b" },
    { name: "Algieba", ra: 154.99, dec: 19.84, dist: 130, mag: 2.01, color: "#ffbb7b" },
    { name: "Diphda", ra: 10.89, dec: -17.99, dist: 96, mag: 2.04, color: "#ffbb7b" }
];

  // THREE.JS BRIDGE INITIALIZATION
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.getElementById('canvas-container').appendChild(renderer.domElement);

  // Function to map RA/Dec to 3D Space
  function createStar(data) {
    const geometry = new THREE.SphereGeometry(0.5, 12, 12);
    const material = new THREE.MeshBasicMaterial({ color: data.color });
    const sphere = new THREE.Mesh(geometry, material);
    
    // Simple spherical to cartesian mapping for the bridge
    const phi = (90 - data.dec) * (Math.PI / 180);
    const theta = (data.ra) * (Math.PI / 180);
    
    sphere.position.set(
      20 * Math.sin(phi) * Math.cos(theta),
      20 * Math.cos(phi),
      20 * Math.sin(phi) * Math.sin(theta)
    );

    sphere.userData = { name: data.name, dist: data.dist };
    scene.add(sphere);
  }

  BRIGHT_STARS.forEach(createStar);
  camera.position.z = 50;

  function animate() {
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
  }
  animate();

  // Handle Resizing
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>





const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const controls = new OrbitControls(camera, renderer.domElement);
const raycaster = new THREE.Raycaster();
const mouse = new THREE.Vector2();

// Helper: Convert Celestial to Cartesian (3D Space)
function celestialToCartesian(ra, dec, dist) {
    const phi = (90 - dec) * (Math.PI / 180);
    const theta = (ra) * (Math.PI / 180);
    return new THREE.Vector3(
        dist * Math.sin(phi) * Math.cos(theta),
        dist * Math.cos(phi),
        dist * Math.sin(phi) * Math.sin(theta)
    );
}

// Create Star Objects
const starGroup = new THREE.Group();
STARS.forEach(data => {
    const pos = celestialToCartesian(data.ra, data.dec, data.dist);
    const geometry = new THREE.SphereGeometry(Math.max(0.1, 2 - data.mag) * 0.5, 16, 16);
    const material = new THREE.MeshBasicMaterial({ 
        color: data.color, 
        transparent: true, 
        opacity: 0.8 
    });
    
    const star = new THREE.Mesh(geometry, material);
    star.position.copy(pos);
    star.userData = data; // Store star info for selection
    starGroup.add(star);
});
scene.add(starGroup);

camera.position.z = 50;

// Interactivity: Selection & Zoom
window.addEventListener('click', (event) => {
    mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
    mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
    
    raycaster.setFromCamera(mouse, camera);
    const intersects = raycaster.intersectObjects(starGroup.children);
    
    if (intersects.length > 0) {
        const target = intersects[0].object;
        zoomToStar(target);
    }
});

function zoomToStar(mesh) {
    const targetPos = mesh.position.clone().normalize().multiplyScalar(mesh.position.length() - 5);
    // Smooth zoom using a library like GSAP or simple Lerp in the loop
    camera.position.set(targetPos.x, targetPos.y, targetPos.z);
    controls.target.copy(mesh.position);
    document.getElementById('star-label').innerText = `SYSTEM: ${mesh.userData.name}\nDIST: ${mesh.userData.dist} LY`;
}

function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
}
animate();
</script>


</script>
</body>
</html>
